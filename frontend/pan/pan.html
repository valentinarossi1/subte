<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=S, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap"
      rel="stylesheet"
    />
    <link href="../style.css" rel="stylesheet" />
    <title>SUBTE</title>
  </head>
  <body>
    <header>
      <nav class="navbar">
        <div class="navbar-contenedor">
          <a class="logo" href="../index.html"
            ><img src="../imagenes/nuevoLogo.jpg" alt="logo de SUBTE"
          /></a>
          <div class="menu-navbar">
            <ul class="elementos-navbar">
              <li>
                <a href="../hace-tu-pedido/hacetupedido.html">Hace tu pedido</a>
              </li>
              <li><a href="../nosotros/nosotros.html">Nosotros</a></li>
              <li><a href="../sucursales/sucursales.html">Sucursales</a></li>
              <li><a href="../ver-pedidos/index.html">Ver pedidos</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <h2 class="paso">2º PASO</h2>

      <div class="opciones-contenedor" id="panes_parser">
        <div class="opcion">
          <img src="../imagenes/panBlanco.png" alt="pan blanco" />
        </div>
        <div class="opcion">
          <img src="../imagenes/panIntegral.png" alt="pan integral" />
        </div>
        <div class="opcion">
          <img src="../imagenes/panSinTacc.png" alt="pan sin tacc" />
        </div>
      </div>

      <footer>
        <div class="footer-contenedor">
          <a class="logo-footer" href="../index.html"
            ><img src="../imagenes/nuevoLogo.jpg" alt="logo de SUBTE"
          /></a>
          <div class="footer-elemento">
            <h4>Información</h4>
            <ul>
              <li><a href="nosotros.html">Quienes somos</a></li>
              <li><a href="../sucursales/sucursales.html">Sucursales</a></li>
              <li><a href="/">FAQ</a></li>
            </ul>
          </div>
          <div class="footer-elemento">
            <h4>Sobre Subte</h4>
            <p>Dirección: Calle 123</p>
            <p>Teléfono: (011) 123-4567</p>
            <p>Email: info@subte.com</p>
          </div>
          <div class="footer-elemento">
            <h4>Legal</h4>
            <ul>
              <li><a href="/">Terminos y condiciones</a></li>
              <li><a href="/">Politica de privacidad</a></li>
              <li><a href="/">Defensa del consumidor</a></li>
            </ul>
          </div>
        </div>
        <div class="redes">
          <a href="/"
            ><img src="../imagenes/logo_facebook.png" alt="Facebook"
          /></a>
          <a href="/"><img src="../imagenes/logo_x.png" alt="X" /></a>
          <a href="/"
            ><img src="../imagenes/logo_instagram.png" alt="Instagram"
          /></a>
        </div>
      </footer>
      <script>
        function response_received(response) {
          return response.json();
        }

        function request_error(error) {
          console.log("ERROR");
          console.log(error);
        }

        function parse_data(content) {
          console.log(content);
          const container = document.getElementById("panes_parser");

          for (let index = 0; index < content.length; index++) {
            const item = document.createElement("li");

            const image = document.createElement("img");
            image.setAttribute("src", `${content[index].imagen}`);
            image.setAttribute("alt", "Product image");

            const link = document.createElement("a");
            link.textContent = `${content[index].nombre}`;
            link.setAttribute("hhref", `/cclientes?${content[index].id}`);
            link.setAttribute("target", "_blank");

            const price = document.createElement("span");
            price.textContent = ` - precio : ${content[index].precio}`;

            item.appendChild(image);
            item.appendChild(link);
            item.appendChild(price);

            container.appendChild(item);
          }
        }

        fetch("http://localhost:5000/panes")
          .then(response_received)
          .then(parse_data)
          .catch(request_error);
      </script>
    </main>
  </body>
</html>
